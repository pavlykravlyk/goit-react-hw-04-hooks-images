{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css","App.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Modal/Modal.jsx","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","services/pixabay-api.jsx","App.js","index.js"],"names":["module","exports","Modal","onClose","children","useEffect","handleKeyDown","code","window","addEventListener","removeEventListener","createPortal","className","styles","Overlay","onClick","currentTarget","target","document","querySelector","Searchbar","onSubmit","useState","searchQuery","setSearchQuery","event","preventDefault","trim","toast","error","SearchForm","type","SearchForm__button","SearchForm__button_label","SearchForm__input","autoComplete","autoFocus","placeholder","value","onChange","toLowerCase","ImageGallery","images","onOpenModal","map","image","ImageGalleryItem","height","ImageGalleryItem__image","src","webformatURL","alt","tags","id","LoadMoreBtn","onLoadMore","Button","fetchImages","query","page","a","searchParams","URLSearchParams","key","orientation","image_type","q","per_page","axios","get","data","hits","propTypes","PropTypes","string","number","App","setQuery","showModal","setShowModal","setPage","setImages","setError","currImg","setCurrImg","status","setStatus","findImageByName","API","response","state","toggleModal","message","scroll","scrollToBottom","length","prevState","color","width","largeImageURL","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0534b75a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__30xkQ\",\"ImageGalleryItem__image\":\"ImageGallery_ImageGalleryItem__image__2F6BC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchForm__button\":\"Searchbar_SearchForm__button__wM7NY\",\"SearchForm__button_label\":\"Searchbar_SearchForm__button_label__lQViY\",\"SearchForm__input\":\"Searchbar_SearchForm__input__1-9Kh\"};","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport styles from './Modal.module.css';\n\nexport default function Modal({ onClose, children }) {\n  const handleOverlayClick = ({ currentTarget, target }) => {\n    currentTarget === target && onClose();\n  };\n\n  useEffect(() => {\n    const handleKeyDown = ({ code }) => code === 'Escape' && onClose();\n\n    window.addEventListener('keydown', handleKeyDown);\n\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [onClose]);\n\n  return createPortal(\n    <div className={styles.Overlay} onClick={handleOverlayClick}>\n      <div className={styles.Modal}>{children}</div>\n    </div>,\n    document.querySelector('#modal-root'),\n  );\n}\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\nimport { AiOutlineSearch } from 'react-icons/ai';\nimport styles from './Searchbar.module.css';\n\nexport default function Searchbar({ onSubmit }) {\n  const [searchQuery, setSearchQuery] = useState('');\n\n  const handleSearchQueryChange = event => {\n    setSearchQuery(event.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (searchQuery.trim() !== '') {\n      onSubmit(searchQuery);\n      setSearchQuery('');\n    } else toast.error('Input field must not be empty');\n  };\n\n  return (\n    <header className={styles.Searchbar}>\n      <form onSubmit={handleSubmit} className={styles.SearchForm}>\n        <button type=\"submit\" className={styles.SearchForm__button}>\n          <span className={styles.SearchForm__button_label}>Search</span>\n          <AiOutlineSearch />\n        </button>\n\n        <input\n          className={styles.SearchForm__input}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={searchQuery}\n          onChange={handleSearchQueryChange}\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = { searchQuery: PropTypes.string };\n","import styles from './ImageGallery.module.css';\n\nexport default function ImageGallery({ images, onOpenModal }) {\n  return (\n    <ul className={styles.ImageGallery}>\n      {images.map(image => (\n        <li\n          key={image.id}\n          onClick={() => {\n            onOpenModal(image);\n          }}\n          className={styles.ImageGalleryItem}\n        >\n          <img\n            height={260}\n            className={styles.ImageGalleryItem__image}\n            src={image.webformatURL}\n            alt={image.tags}\n          />\n        </li>\n      ))}\n    </ul>\n  );\n}\n","import styles from './Button.module.css';\n\nexport default function LoadMoreBtn({ onLoadMore }) {\n  return (\n    <button onClick={onLoadMore} type=\"button\" className={styles.Button}>\n      load more\n    </button>\n  );\n}\n","import PropTypes from 'prop-types';\nimport axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '23902495-d255dd7217da8bb07f7abae59';\n\nconst fetchImages = async (query, page) => {\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    orientation: 'horizontal',\n    image_type: 'photo',\n    q: query,\n    page: page,\n    per_page: 12,\n  });\n\n  try {\n    const { data } = await axios.get(`${BASE_URL}?${searchParams}`);\n    return data.hits;\n  } catch (error) {\n    return error;\n  }\n};\n\nfetchImages.propTypes = {\n  query: PropTypes.string,\n  page: PropTypes.number,\n};\n\nexport default fetchImages;\n","import styles from './App.module.css';\nimport { useState, useEffect } from 'react';\nimport { animateScroll as scroll } from 'react-scroll';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Loader from 'react-loader-spinner';\nimport Modal from './components/Modal';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport API from './services/pixabay-api';\n\nexport default function App() {\n  const [query, setQuery] = useState('');\n  const [showModal, setShowModal] = useState(false);\n  const [page, setPage] = useState(1);\n  const [images, setImages] = useState([]);\n  const [error, setError] = useState(null);\n  const [currImg, setCurrImg] = useState({});\n  const [status, setStatus] = useState('idle');\n\n  useEffect(() => {\n    const findImageByName = async () => {\n      try {\n        const response = await API(query);\n        setImages(response);\n        setStatus('resolved');\n      } catch (error) {\n        setError(error);\n        setStatus('rejected');\n        toast.error(error);\n      }\n    };\n\n    if (query) {\n      setStatus('pending');\n      setPage(1);\n      setImages([]);\n      findImageByName();\n    }\n  }, [query]);\n\n  useEffect(() => {\n    const findImageByName = async () => {\n      try {\n        const response = await API(page);\n        setImages(state => [...state, ...response]);\n        setStatus('resolved');\n      } catch (error) {\n        setError(error);\n        setStatus('rejected');\n        toast.error(error);\n      }\n    };\n\n    if (page > 1) {\n      setStatus('pending');\n      findImageByName();\n    }\n  }, [page]);\n\n  const toggleModal = image => {\n    setShowModal(!showModal);\n    setCurrImg(image);\n  };\n\n  return (\n    <div className={styles.App}>\n      <Searchbar onSubmit={setQuery} />\n      {status === 'idle' && <div>Free images</div>}\n      {status === 'rejected' && <h1>{error.message}</h1>}\n      {status === 'resolved' && scroll.scrollToBottom()}\n      {status === 'resolved' && (\n        <>\n          <ImageGallery images={images} onOpenModal={toggleModal} />\n          {images.length !== 0 && (\n            <Button onLoadMore={() => setPage(prevState => prevState + 1)} />\n          )}\n          {images.length === 0 && <div>{query} not found</div>}\n        </>\n      )}\n      {status === 'pending' && (\n        <>\n          <ImageGallery images={images} onOpenModal={toggleModal} />\n          <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={80} width={80} />\n        </>\n      )}\n      {showModal && (\n        <Modal onClose={toggleModal}>\n          <img src={currImg.largeImageURL} alt={currImg.tags} />\n        </Modal>\n      )}\n      <ToastContainer autoClose={3000} />\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}